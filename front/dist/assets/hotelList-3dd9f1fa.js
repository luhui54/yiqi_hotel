import{S}from"./SearchCard-b17bc47a.js";import{G as N,S as I}from"./hotel-505ab7d0.js";import{C as L,E as _,e as l,w as o,a as p,l as v,X as O,d as n,o as r,h as i,M as m,N as f,z as d,f as c,i as U,Z as E}from"./index-98ff7959.js";import"./moment-a9aaa855.js";import"./user-194456a1.js";const G={class:"container",style:{display:"grid",gap:"20px"}},H=c("strong",null,"评分：",-1),P=c("strong",null,"品牌：",-1),R=c("strong",null,"价格：",-1),X=["src"],Z={style:{padding:"20px"}},$={style:{"font-size":"20px","font-weight":"bold","margin-bottom":"10px"}},j={style:{display:"flex","align-items":"center"}},q={style:{color:"#e64340","margin-right":"10px"}},A={style:{"margin-left":"5px"}},J={key:1,style:{"text-align":"center"}},ae={__name:"hotelList",setup(K){const b=O(),e=L({ranks:[],prices:[],scores:[],brands:[],filterForm:{price:"",score:"",brand:""},searchForm:{destination:"广州",checkInTime:"",checkOutTime:""},total:0,hotels:[],page:{current:1,size:2},loadMoreBtn:!1}),y=()=>{const a={...e.searchForm,...e.filterForm,...e.page};I(a).then(s=>{e.hotels.push(...s.data.records),e.total=s.data.total,e.total===e.hotels.length&&(e.loadMoreBtn=!0)})},F=a=>{e.searchForm=a,e.hotels=[],e.page.current=1,e.loadMoreBtn=!1,e.total=0,y()},x=a=>{b.push("/hotel-detail/"+a+"?checkInTime="+e.searchForm.checkInTime+"&checkOutTime="+e.searchForm.checkOutTime)};(()=>{N().then(a=>{e.ranks=a.data.rankDict,e.prices=a.data.priceDict,e.scores=a.data.scoreDict,e.brands=a.data.brandDict})})();const V=()=>{e.page.current++,y()};return(a,s)=>{const k=n("el-card"),u=n("el-radio"),h=n("el-radio-group"),g=n("el-space"),z=n("el-descriptions-item"),B=n("el-descriptions"),w=n("el-icon"),C=n("el-col"),D=n("el-row"),M=n("el-empty"),T=n("el-button");return r(),_("div",G,[l(k,{shadow:"never"},{default:o(()=>[l(S,{ranks:e.ranks,onSearchFn:F},null,8,["ranks"])]),_:1}),l(B,{border:"",class:"my-desc"},{default:o(()=>[l(z,{label:"筛选","label-align":"center"},{default:o(()=>[l(g,null,{default:o(()=>[H,l(h,{modelValue:e.filterForm.score,"onUpdate:modelValue":s[0]||(s[0]=t=>e.filterForm.score=t)},{default:o(()=>[l(u,{value:"",size:"large"},{default:o(()=>[i("全部")]),_:1}),(r(!0),_(m,null,f(e.scores,t=>(r(),p(u,{value:t.key,size:"large"},{default:o(()=>[i(d(t.value),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(g,null,{default:o(()=>[P,l(h,{modelValue:e.filterForm.brand,"onUpdate:modelValue":s[1]||(s[1]=t=>e.filterForm.brand=t)},{default:o(()=>[l(u,{value:"",size:"large"},{default:o(()=>[i("全部")]),_:1}),(r(!0),_(m,null,f(e.brands,t=>(r(),p(u,{value:t.key,size:"large"},{default:o(()=>[i(d(t.value),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(g,null,{default:o(()=>[R,l(h,{modelValue:e.filterForm.price,"onUpdate:modelValue":s[2]||(s[2]=t=>e.filterForm.price=t)},{default:o(()=>[l(u,{value:"",size:"large"},{default:o(()=>[i("全部")]),_:1}),(r(!0),_(m,null,f(e.prices,t=>(r(),p(u,{value:t.key,size:"large"},{default:o(()=>[i(d(t.value),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(D,{gutter:20},{default:o(()=>[(r(!0),_(m,null,f(e.hotels,t=>(r(),p(C,{span:6},{default:o(()=>[l(k,{shadow:"never","body-style":{padding:"0"},onClick:W=>x(t.id)},{default:o(()=>[c("img",{src:t.image,width:"100%",height:"200px",alt:""},null,8,X),c("div",Z,[c("p",$,d(t.title),1),c("div",j,[c("span",q,"¥ "+d(t.minPrice)+"起",1),l(w,null,{default:o(()=>[l(U(E))]),_:1}),c("span",A,d(t.score)+" 评分",1)])])]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1}),e.total===0?(r(),p(M,{key:0,description:"抱歉噢～ 没有查询到相关酒店信息！"})):v("",!0),e.total>0?(r(),_("div",J,[l(T,{type:"primary",onClick:V,disabled:e.loadMoreBtn},{default:o(()=>[i(d(e.loadMoreBtn?"没有更多了":"加载更多"),1)]),_:1},8,["disabled"])])):v("",!0)])}}};export{ae as default};
