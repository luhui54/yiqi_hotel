import{J as g,C as V,E as k,e,w as a,d as l,o as z,h as n,z as p}from"./index-98ff7959.js";function T(d){return g({url:"/sys/user/page",method:"get",params:d})}function F(d){return g({url:"/sys/user/info/"+d,method:"get"})}const E={__name:"index",setup(d){const t=V({searchForm:{},pageData:[],page:{current:1,size:10},total:0,infoDrawer:!1,user:{}}),c=()=>{T({...t.page,...t.searchForm}).then(r=>{t.pageData=r.data.records,t.total=r.data.total})};c();const b=r=>{t.page.current=r,c()},w=r=>{F(r).then(s=>{t.user=s.data,t.infoDrawer=!0})};return(r,s)=>{const h=l("el-input"),m=l("el-form-item"),_=l("el-button"),v=l("el-form"),u=l("el-table-column"),f=l("el-avatar"),C=l("el-table"),D=l("el-pagination"),i=l("el-descriptions-item"),y=l("el-descriptions"),x=l("el-drawer");return z(),k("div",null,[e(v,{"label-width":"auto",inline:!0},{default:a(()=>[e(m,null,{default:a(()=>[e(h,{modelValue:t.searchForm.username,"onUpdate:modelValue":s[0]||(s[0]=o=>t.searchForm.username=o),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(_,{onClick:c},{default:a(()=>[n("搜索")]),_:1})]),_:1})]),_:1}),e(C,{data:t.pageData,border:"",style:{width:"100%"}},{default:a(()=>[e(u,{type:"selection",width:"55"}),e(u,{prop:"avatar",label:"头像"},{default:a(o=>[e(f,{src:o.row.avatar},null,8,["src"])]),_:1}),e(u,{prop:"username",label:"用户名"}),e(u,{prop:"phone",label:"手机号码"}),e(u,{prop:"createTime",label:"创建时间"},{default:a(o=>[n(p(r.$fD(o.row.createTime)),1)]),_:1}),e(u,{label:"操作"},{default:a(o=>[e(_,{type:"text",onClick:$=>w(o.row.id)},{default:a(()=>[n("查看")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(D,{style:{"margin-top":"16px"},background:"",layout:"total, prev, pager, next","page-size":t.page.size,total:t.total,onCurrentChange:b},null,8,["page-size","total"]),e(x,{modelValue:t.infoDrawer,"onUpdate:modelValue":s[2]||(s[2]=o=>t.infoDrawer=o),title:"用户详情"},{default:a(()=>[e(y,{border:"",column:"2",title:"用户详情"},{default:a(()=>[e(i,{label:"头像"},{default:a(()=>[e(f,{src:t.user.avatar},null,8,["src"])]),_:1}),e(i,{label:"用户名"},{default:a(()=>[n(p(t.user.username),1)]),_:1}),e(i,{label:"手机号码"},{default:a(()=>[n(p(t.user.phone),1)]),_:1}),e(i,{label:"创建时间"},{default:a(()=>[n(p(t.user.createTime),1)]),_:1}),e(i,{label:"最后登录"},{default:a(()=>[n(p(t.user.lastLoginTime),1)]),_:1}),e(i,{label:"个人签名"},{default:a(()=>[n(p(t.user.signature),1)]),_:1})]),_:1}),e(_,{style:{"margin-top":"16px"},onClick:s[1]||(s[1]=o=>t.infoDrawer=!1)},{default:a(()=>[n("关闭")]),_:1})]),_:1},8,["modelValue"])])}}};export{E as default};
