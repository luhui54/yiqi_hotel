import{u as y,G as x,R as B}from"./user-194456a1.js";import{_ as I,C as _,r as g,E as R,f as s,e as t,w as l,d as c,o as z,h as f,A as S,B as U,K as q,W as h}from"./index-98ff7959.js";const E=i=>(S("data-v-30aca4bf"),i=i(),U(),i),N={class:"register-container"},G={class:"register-content"},A=E(()=>s("div",{class:"register-header"},[s("h1",{class:"register-title"},"创建账号"),s("p",{class:"register-subtitle"},"注册艺柒酒旅，开启您的精彩旅程")],-1)),K={class:"captcha-container"},L={class:"register-actions"},M={__name:"register",setup(i){y();const e=_({username:"",password:"",code:"",uuid:""}),v=_({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}),p=g(),b=()=>{p.value.validate(async o=>{o&&B(e).then(a=>{q.success("注册成功，请登录"),h.push("/login")},a=>{n(),e.code=""})})},m=g(""),n=()=>{x().then(o=>{e.uuid=o.data.uuid,m.value=o.data.imgBase64})};n();const V=()=>{h.push("/login")};return(o,a)=>{const d=c("el-input"),u=c("el-form-item"),w=c("el-image"),C=c("el-button"),k=c("el-form");return z(),R("div",N,[s("div",G,[A,t(k,{ref_key:"formRef",ref:p,class:"register-form",model:e,rules:v,"label-position":"top"},{default:l(()=>[t(u,{label:"用户名",prop:"username"},{default:l(()=>[t(d,{modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=r=>e.username=r),placeholder:"请输入用户名",size:"large",class:"register-input"},null,8,["modelValue"])]),_:1}),t(u,{label:"密码",prop:"password"},{default:l(()=>[t(d,{type:"password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=r=>e.password=r),placeholder:"请输入密码",size:"large",class:"register-input","show-password":""},null,8,["modelValue"])]),_:1}),t(u,{label:"验证码",prop:"code"},{default:l(()=>[s("div",K,[t(d,{modelValue:e.code,"onUpdate:modelValue":a[2]||(a[2]=r=>e.code=r),placeholder:"请输入验证码",size:"large",class:"register-input captcha-input"},null,8,["modelValue"]),s("div",{class:"captcha-image",onClick:n,title:"点击刷新验证码"},[t(w,{src:m.value,fit:"contain",class:"captcha-img"},null,8,["src"])])])]),_:1}),s("div",L,[t(C,{type:"primary",onClick:b,class:"register-button",size:"large"},{default:l(()=>[f(" 注册 ")]),_:1})]),s("div",{class:"register-footer"},[s("p",null,[f("已有账号？"),s("a",{onClick:V,class:"login-link"},"立即登录")])])]),_:1},8,["model","rules"])])])}}},j=I(M,[["__scopeId","data-v-30aca4bf"]]);export{j as default};
